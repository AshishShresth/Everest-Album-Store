@model IEnumerable<EverestAlbumStore.Models.Loan>

@{
    ViewBag.Title = "SelectCopyByCopyNumber";
}

<h2>Task 5</h2>
<p>
    Allow the user to enter or select a Copy by CopyNumber and find the details of the last
    loan for that copy (whether it is still on loan or has been returned), ie the Name of the
    Member who borrowed it, the date out, due and back (if any) and the title of the DVD.
</p>

<form method="get" action="/Report/SelectCopyByCopyNumber">
    @Html.DropDownList("id", new SelectList(ViewBag.id, "id", "id"), null, null)
    <button type="submit">Search</button>
</form>
@if (Model != null)
{
    <table class="table table-bordered table-striped">
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.Albums.Tittle)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Members.Name)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.IssuedDate)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.ReturnedDate)
            </th>
            <th></th>
        </tr>

        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.Albums.Tittle)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Members.Name)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.IssuedDate)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.ReturnedDate)
                </td>
                <td>
                    @Html.ActionLink("Edit", "Edit", new { id = item.Id }) |
                    @Html.ActionLink("Details", "Details", new { id = item.Id }) |
                    @Html.ActionLink("Delete", "Delete", new { id = item.Id })
                </td>
            </tr>
        }

    </table>
}

